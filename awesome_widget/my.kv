#:kivy 2.3.0
#:import Factory kivy.factory.Factory

<WaitBar>:
    canvas:
        Color:
            rgba: 1, 0, 0, 1
        Rectangle:
            pos: self.pos
            size: (30, 30)

<MyPopup@Popup>:
    title: 'My awesome popup'
    auto_dismiss: False
    size_hint: (0.9, 0.5)
    on_open: wait_bar.start_animation()
    RelativeLayout:
        WaitBar:
            id: wait_bar

RootWidget:
    Button:
        text: 'Open popup'
        size_hint: (0.9, 0.5)
        on_release: Factory.MyPopup().open()
